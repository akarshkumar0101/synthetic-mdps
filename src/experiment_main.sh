#!/bin/bash
source /data/vision/phillipi/akumar01/.virtualenvs/synthetic-mdps/bin/activate
cd /data/vision/phillipi/akumar01/synthetic-mdps/src




CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_agent_params=True --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_agent_params=True --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_agent_params=True --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait

CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=CartPole-v1;tl=500"           --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64"           --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=CartPole-v1;tl=500"           --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"             --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=CartPole-v1;tl=500"           --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"              --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=CartPole-v1;tl=500"           --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/random_agent"                                                                             --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=CartPole-v1;tl=500"           --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/ft_random"                                                                                --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=CartPole-v1;tl=500"           --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=CartPole-v1;tl=500/train_random"                                                                             --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64"            --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"              --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"               --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/random_agent"                                                                              --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/ft_random"                                                                                 --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=Acrobot-v1;tl=500"            --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Acrobot-v1;tl=500/train_random"                                                                              --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64"        --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"          --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"           --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/random_agent"                                                                          --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/ft_random"                                                                             --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=MountainCar-v0;tl=500"        --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=MountainCar-v0;tl=500/train_random"                                                                          --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64"       --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"         --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"          --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/random_agent"                                                                         --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/ft_random"                                                                            --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=Asterix-MinAtar;tl=500"       --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Asterix-MinAtar;tl=500/train_random"                                                                         --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64"      --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"        --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"         --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/random_agent"                                                                        --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/ft_random"                                                                           --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=Breakout-MinAtar;tl=500"      --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=Breakout-MinAtar;tl=500/train_random"                                                                        --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
CUDA_VISIBLE_DEVICES=0 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=linear;mrl=4x64" --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=1 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=linear;rew=goal;mrl=4x64"   --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=2 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="train" --load_dir="../data/exp_main//train/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/name=csmdp;d_state=8;d_obs=8;n_acts=4;delta=F;trans=mlp;rew=linear;mrl=4x64"    --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=3 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="eval"  --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/random_agent"                                                                   --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=4 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/ft_random"                                                                      --save_agent_params=True --ft_first_last_layers=True  --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
CUDA_VISIBLE_DEVICES=5 python run.py --env_id="name=SpaceInvaders-MinAtar;tl=500" --run="train" --load_dir=None                                                                                                     --save_dir="../data/exp_main//test/name=SpaceInvaders-MinAtar;tl=500/train_random"                                                                   --save_agent_params=True --ft_first_last_layers=False --n_iters=4000 --n_envs=128 --n_envs_batch=32 &
wait
